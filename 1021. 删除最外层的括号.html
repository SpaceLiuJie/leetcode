<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        有效括号字符串为空 ""、"(" + A + ")" 或 A + B ，其中 A 和 B 都是有效的括号字符串，+ 代表字符串的连接。

    例如，""，"()"，"(())()" 和 "(()(()))" 都是有效的括号字符串。

如果有效字符串 s 非空，且不存在将其拆分为 s = A + B 的方法，我们称其为原语（primitive），其中 A 和 B 都是非空有效括号字符串。

给出一个非空有效字符串 s，考虑将其进行原语化分解，使得：s = P_1 + P_2 + ... + P_k，其中 P_i 是有效括号字符串原语。

对 s 进行原语化分解，删除分解中每个原语字符串的最外层括号，返回 s 。


     -->
     <script>
        var removeOuterParentheses = function(s) {
            let arr = [...s];
            let stack = [];
            let res='';
            let start = 0;
            arr.forEach((item,i) => {
                if (item ==='(') {
                    stack.push(item)
                }else{
                    stack.pop()
                }
                if (!stack.length) {
                    res +=s.slice(start+1,i)
                    start= i+1
                }
            });
            return res
};

console.log(removeOuterParentheses("(()())(())(()(()))"));
     </script>
</body>
</html>